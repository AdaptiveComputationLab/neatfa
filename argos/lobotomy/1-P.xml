<?xml version="1.0"?>
<argos-configuration>

<framework>

    <experiment ticks_per_second = "16"
                random_seed      = "42142"/>

</framework>

<controllers>
    <iAnt_controller id      = "iAnt_c"
                     library = "build/source/libiAnt_controller">

        <actuators>
            <differential_steering implementation = "default"/>
        </actuators>

        <sensors>
            <footbot_proximity    implementation = "default"
                                  show_rays      = "false"/>
            <positioning          implementation = "default"/>
            <footbot_motor_ground implementation = "rot_z_only"/>
            <footbot_light        implementation= "rot_z_only" show_rays="true" />
        </sensors>

        <!-- un-evolvable parameters -->
        <!-- remember: a footbot's radius = 8.5 cm / 0.085 m -->
        <params>
			<iAnt_params searchStepSize          = "0.175"
                         distanceTolerance       = "0.01"
                		 robotForwardSpeed       = "16.0"
                         robotRotationSpeed      = "13.3"
            	         angleToleranceInDegrees = "15.0"/>
			</params>
        </iAnt_controller>
    </controllers>

    <!-- LOOP FUNCTIONS -->
    <loop_functions library = "build/source/libiAnt_loop_functions"
                    label   = "iAnt_loop_functions">

        <!-- evolvable parameters -->
        <CPFA       ProbabilityOfSwitchingToSearching = "0.2041456252336502"
                    ProbabilityOfReturningToNest      = "0.0009405957534909248"
                    UninformedSearchVariation         = "12.996437"
                    RateOfInformedSearchDecay         = "0.2497878670692444"
                    RateOfSiteFidelity                = "2.5117506980896"
                    RateOfLayingPheromone             = "2.24421238899231"
                    RateOfPheromoneDecay              = "0.03821808844804764"/>

        <!-- un-evolvable environment variables -->
        <simulation MaxSimCounter        = "1"
                    MaxSimTime           = "1800"
                    Chromosome = "384.0,1,1,17,-4.979888963901556;385.0,1,2,17,-0.23681773273807705;386.0,1,3,17,-9.327771520611908;387.0,1,4,17,0.5886988023610499;388.0,0,5,17,10.770705587165532;389.0,1,6,17,-5.978635160626414;390.0,1,7,17,-0.8088604889874681;391.0,1,8,17,4.616027737489188;392.0,1,9,17,-2.362317723453967;393.0,1,10,17,-6.200720313998449;394.0,1,11,17,-0.38114141525727774;395.0,1,12,17,-3.7119555260562755;396.0,1,13,17,3.0093647419876675;397.0,1,14,17,-0.2012229596648698;398.0,1,15,17,-6.856058020780415;399.0,1,16,17,-3.3892738642040348;400.0,1,17,17,-1.937528496352868;401.0,1,18,17,-0.8955687398651274;402.0,1,19,17,2.0496847402630447;403.0,1,20,17,1.9782078556984755;404.0,1,21,17,7.883121287904961;405.0,1,22,17,1.2008857524688787;406.0,1,23,17,-1.0593888384702914;407.0,1,24,17,-0.7413722913866488;408.0,1,1,18,0.7515767551666074;409.0,1,2,18,-1.4646165118056924;410.0,1,3,18,4.70256047074065;411.0,1,4,18,-2.356578521588141;412.0,1,5,18,3.246893109213633;413.0,1,6,18,-2.5244847128762453;414.0,1,7,18,6.504908839820327;415.0,1,8,18,1.2730775067994007;416.0,1,9,18,-5.693444318583132;417.0,1,10,18,-1.850971594136177;418.0,1,11,18,2.4792315311038156;419.0,1,12,18,2.0528459580643297;420.0,1,13,18,-3.0317527376280773;421.0,1,14,18,7.1340540534097645;422.0,1,15,18,-3.216915269022519;423.0,1,16,18,8.816022813125889;424.0,1,17,18,8.131712496990888;425.0,1,18,18,-1.4543773306136414;426.0,1,19,18,0.44097472101479307;427.0,1,20,18,2.466886955119228;428.0,1,21,18,-7.15116048020756;429.0,1,22,18,-5.94061626516479;430.0,1,23,18,-0.3378044831047943;431.0,1,24,18,-7.219088760602062;432.0,1,1,19,9.533313874793482;433.0,1,2,19,2.9862123866115753;434.0,1,3,19,-0.04024294900926667;435.0,1,4,19,-2.113286987101226;436.0,1,5,19,-1.5651622181246743;437.0,1,6,19,3.1959942239744206;438.0,1,7,19,-4.625666183581558;439.0,1,8,19,-0.09682060056288899;440.0,1,9,19,-2.900105795856386;441.0,1,10,19,7.345878937661006;442.0,1,11,19,-3.4087398446607287;443.0,1,12,19,-4.761613696724268;444.0,1,13,19,7.857406150298093;445.0,1,14,19,6.04369622531812;446.0,1,15,19,-2.292591090883069;447.0,1,16,19,0.29891480298909406;448.0,1,17,19,-4.803289228865767;449.0,1,18,19,-4.337534396295815;450.0,1,19,19,3.774158046808;451.0,1,20,19,2.376987624044729;452.0,1,21,19,-1.922297978561494;453.0,1,22,19,-4.529120117632061;454.0,1,23,19,5.544508252612861;455.0,1,24,19,-2.2211561153730495;456.0,1,1,20,-7.4138389476085536;457.0,1,2,20,-5.938117742419379;458.0,1,3,20,5.104166631716244;459.0,1,4,20,4.086008974518934;460.0,1,5,20,3.0983822402862886;461.0,1,6,20,-0.39570691362330357;462.0,1,7,20,-1.1192999658159206;463.0,1,8,20,-17.885659553681172;464.0,1,9,20,1.509966499352468;465.0,1,10,20,6.590930326503759;466.0,1,11,20,1.2324962401162476;467.0,1,12,20,-1.0181945358981204;468.0,0,13,20,7.002623346781984;469.0,1,14,20,-7.145644474018988;470.0,1,15,20,-7.498426554842504;471.0,1,16,20,-3.292488052894388;472.0,0,17,20,-0.19536184746957383;473.0,1,18,20,-1.4039515227128005;474.0,1,19,20,-2.3986850164342446;475.0,1,20,20,-0.3168012636662076;476.0,1,21,20,0.24530824590706346;477.0,1,22,20,5.736954922322878;478.0,0,23,20,-2.603280911976495;479.0,1,24,20,-7.624166118175761;480.0,1,1,21,-8.194115991159638;481.0,0,2,21,-7.366303863333108;482.0,1,3,21,-4.583411392079169;483.0,1,4,21,3.14246404141847;484.0,1,5,21,2.78423800380315;485.0,1,6,21,2.656293018046442;486.0,1,7,21,-0.26774104965480644;487.0,1,8,21,0.3659298743276196;488.0,1,9,21,-0.15780193622615007;489.0,1,10,21,4.652318305720925;490.0,1,11,21,-2.5355630569050356;491.0,1,12,21,-4.257419029725237;492.0,1,13,21,5.604711006493778;493.0,1,14,21,-3.425328398260312;494.0,1,15,21,8.930358590612267;495.0,1,16,21,7.267960227019465;496.0,1,17,21,-2.4977331604433375;497.0,1,18,21,3.9727664948661605;498.0,1,19,21,0.46830547999305394;499.0,1,20,21,3.2516518889027783;500.0,1,21,21,-9.172192043944854;501.0,1,22,21,12.506273760240152;502.0,1,23,21,12.832366642802533;503.0,1,24,21,-0.773890414436892;504.0,1,1,22,-8.248233996871168;505.0,1,2,22,-0.49289977428292364;506.0,1,3,22,-0.13454496936244276;507.0,1,4,22,10.052417589529101;508.0,1,5,22,0.628936352401071;509.0,1,6,22,5.400400404674556;510.0,1,7,22,-3.0974847760737596;511.0,1,8,22,6.626504463653214;512.0,1,9,22,-8.119853861642715;513.0,1,10,22,6.65897003856202;514.0,1,11,22,0.5072990209498218;515.0,1,12,22,7.041583201465686;516.0,1,13,22,-1.98313626551994;517.0,1,14,22,3.1762036449919515;518.0,1,15,22,5.092576700464441;519.0,1,16,22,0.7913872392656751;520.0,1,17,22,-1.5781228792343107;521.0,1,18,22,-1.7069931225342974;522.0,1,19,22,-4.585512017026825;523.0,1,20,22,-6.726592826078664;524.0,1,21,22,5.858511068804187;525.0,1,22,22,-2.491846277579079;526.0,1,23,22,-1.1461301780316435;527.0,1,24,22,-0.045461761879601825;528.0,1,1,23,-3.040663245049985;529.0,1,2,23,-3.731617860678142;530.0,1,3,23,-7.173818522126024;531.0,1,4,23,11.074776645688333;532.0,1,5,23,-1.033980857224467;533.0,1,6,23,-0.2515385561835686;534.0,1,7,23,4.83431490801644;535.0,1,8,23,-0.5723818831738159;536.0,1,9,23,-1.659053773514405;537.0,1,10,23,-2.227641866377291;538.0,1,11,23,2.6583072232950316;539.0,1,12,23,-0.7762279582211611;540.0,1,13,23,0.9370954044541151;541.0,1,14,23,2.976993755976345;542.0,1,15,23,-9.561266979833151;543.0,1,16,23,3.5467073948502845;544.0,1,17,23,3.0118215066278244;545.0,1,18,23,-2.636863478572034;546.0,1,19,23,-1.2744024649790724;547.0,1,20,23,-0.005320824277162739;548.0,1,21,23,-5.693111066819329;549.0,1,22,23,0.6729427628929896;550.0,1,23,23,1.3978926196632007;551.0,1,24,23,2.2622778645828308;552.0,1,1,24,-0.04620165294560413;553.0,1,2,24,-3.3509254983310344;554.0,1,3,24,2.05944844126449;555.0,1,4,24,3.8885273788559584;556.0,1,5,24,0.7009643379431902;557.0,1,6,24,0.7006274105105947;558.0,1,7,24,-3.6273616245648377;559.0,1,8,24,-2.2943011717278416;560.0,0,9,24,-2.0941621191520734;561.0,1,10,24,3.694851606101791;562.0,1,11,24,3.1616014538933825;563.0,1,12,24,9.619730570870377;564.0,1,13,24,-1.9135994444672335;565.0,1,14,24,-2.8285280453700814;566.0,1,15,24,6.241672673507884;567.0,1,16,24,2.416663531910905;568.0,1,17,24,0.6063408043061433;569.0,1,18,24,0.7193584745706327;570.0,1,19,24,-1.293639138812269;571.0,1,20,24,3.0469115199492176;572.0,1,21,24,-1.3848925067704563;573.0,1,22,24,-0.9700608837971938;574.0,0,23,24,-0.6574453854066087;575.0,1,24,24,3.9172311398445165;602.0,1,17,37,-1.0627927443719116;603.0,1,37,20,0.16314750970842062;611.0,1,11,37,0.3602426829505076;689.0,1,11,63,1.9674495754818155;690.0,1,63,17,3.104393601770877;701.0,1,37,18,6.993240632976182;726.0,1,23,73,-0.5906040819625693;727.0,1,73,17,-1.9006752952510095;731.0,1,73,23,-0.7629365551697174;745.0,1,6,73,-1.962959103366705;752.0,1,4,37,0.010872738438794438;777.0,1,24,80,1.0;778.0,1,80,24,-0.22369002354127115;787.0,1,2,82,-2.0614455873825093;788.0,1,82,21,-0.7297795129946416;806.0,1,80,73,-5.886997666851544;822.0,1,82,22,5.232645984198946;869.0,1,15,105,-0.5288137638711023;870.0,1,105,20,2.1044266936834206;885.0,1,2,108,1.0;886.0,1,108,24,-1.1974606847041582;899.0,1,1,105,9.67981591530683;908.0,1,24,113,1.0;909.0,1,113,24,5.862528038645037;922.0,1,15,118,1.1699932620627376;923.0,1,118,23,-9.675261214058473;941.0,1,7,118,-2.545600927802804;953.0,1,15,63,0.4496322548281828;986.0,1,63,37,2.7057763973006153;996.0,1,21,134,1.0;997.0,1,134,24,-1.3848925067704563;1025.0,1,12,118,-1.1960893094573166;1070.0,1,108,18,-6.930226631094463;1092.0,1,10,80,-3.2696629080679607;1111.0,1,13,157,1.0;1112.0,1,157,20,7.002623346781984;1129.0,1,1,80,-6.500295152558719;1143.0,1,1,73,-1.4236592445884422;1152.0,1,16,80,9.823653361924503;1167.0,1,17,167,1.0;1168.0,1,167,20,-0.19536184746957383;1177.0,1,10,167,8.703724250789861;1186.0,1,11,171,1.0;1187.0,1,171,20,1.2324962401162476;1190.0,1,5,172,1.0;1191.0,1,172,17,10.770705587165532;1197.0,1,10,175,1.0;1198.0,1,175,20,6.590930326503759;1209.0,1,17,175,-1.3969003225735732;1239.0,1,108,82,4.369850356664725;1260.0,1,80,18,2.2018358900580335;1284.0,1,80,171,-4.022706259425128;1303.0,1,171,73,7.383017708489375;1322.0,1,9,203,1.0;1323.0,1,203,24,-2.0941621191520734;1340.0,1,23,209,1.0;1341.0,1,209,24,-0.6574453854066087;"
                    VariableSeed         = "1"
                    OutputData           = "1"
                    ResourceDensityDelay = "4"
                    DrawDensityRate      = "8"
                    DrawTrails           = "1"
                    DrawTargetRays       = "1"
                    NestPosition         = "0.0, 0.0"
                    NestRadius           = "0.25"
                    NestElevation        = "0.01"
                    FoodRadius           = "0.05"
                    FoodDistribution     = "2"/>

		<!-- un-evolvable food distribution parameters -->
        <_0_FoodDistribution_Random   FoodItemCount    = "256"/>
        <_1_FoodDistribution_Cluster  NumberOfClusters = "4"
                                      ClusterWidthX    = "8"
                                      ClusterLengthY   = "8"/>
        <_2_FoodDistribution_PowerLaw PowerRank        = "4"/>

    </loop_functions>

    <!-- ARENA -->
    <arena size="10.0, 10.0, 1.0" center="0.0, 0.0, 0.5">

        <light id="light"
               position="0,0,0.5"
               orientation="0,0,0"
               color="yellow"
               intensity="3.0"
               medium="leds" />

        <floor id="floor" source="loop_functions" pixels_per_meter="10"/>

        <!-- Build walls around arena -->
        <box id="wall_west" size="10,0.1,0.5" movable = "false">
            <body position="0,5,0" orientation="0,0,0"/>
        </box>
        <box id="wall_east" size="10,0.1,0.5" movable = "false">
            <body position="0,-5,0" orientation="0,0,0"/>
        </box>

        <box id="wall_south" size="0.1,10,0.5" movable = "false">
            <body position="-5,0,0" orientation="0,0,0"/>
        </box>
        <box id="wall_north" size="0.1,10,0.5" movable = "false">
            <body position="5,0,0" orientation="0,0,0"/>
        </box>

        <distribute>


            <position method = "uniform"
                      min    = "-1, -1, 0"
                      max    = "1, 1, 0"/>
            <orientation method="gaussian" mean="0, 0, 0" std_dev="360, 0, 0"/>

            <entity quantity="1" max_trials="100">
                <foot-bot id="fb_"><controller config="iAnt_c"/></foot-bot>
            </entity>
        </distribute>

    </arena>

    <!-- PHYSICS ENGINE(S) -->
    <physics_engines><dynamics2d id="dyn2d"/></physics_engines>

    <!-- MEDIA -->
    <media><led id="leds"/></media>
    <visualization>
        <qt-opengl>
            <camera>
                <placement idx="0" position="  0, 0, 10" look_at="0, 0, 0" lens_focal_length="25"/>
                <placement idx="1" position="  0, 0, 10" look_at="0, 0, 0" lens_focal_length="45"/>
                <placement idx="2" position="  0, 0, 10" look_at="0, 0, 0" lens_focal_length="120"/>
                <placement idx="3" position="-30, 0, 10" look_at="0, 0, 0" lens_focal_length="180"/>
                <placement idx="4" position="-30, 0, 10" look_at="0, 0, 0" lens_focal_length="240"/>
            </camera>
            <user_functions label="iAnt_qt_user_functions"/>
        </qt-opengl>
    </visualization>

</argos-configuration>

